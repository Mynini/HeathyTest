<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style>
p { border:10px solid #ccc; background:#FFC; width:400px; padding:20px; font-size:16px; font-family:微软雅黑; margin:40px auto 0; }
</style>
	<script>
	window.onload=function(){
        
        var ul=document.getElementById("ul")
        var li=document.getElementsByTagName("li")
       
        for(var i=0;i<li.length;i++){
            li[i].index=i
            li[i].onclick=function(){
           
                insertBefore(this,findSibling(this,false))
                // insertAfter(this,findSibling(this,true))

            }
        }

        function findSibling(obj,isUpOrDn){
            var elem
            if(isUpOrDn){

                if(obj!=lastChild(obj)){

                   elem=obj.nextSibling; 
                   while(elem.nodeType!=1){
                        elem=elem.nextSibling
                   }

                   return elem;  
                }
             
            }else{

                if(obj!=firstChild(obj)){

                   elem=obj.previousSibling;
                   if(obj.previousSibling){
                       elem=obj.previousSibling; 
                       while(elem.nodeType!=1){
                            elem=elem.previousSibling
                       }

                      return elem;  
                   }
                }
                

            }           
        }


        function insertAfter(obj,newobj){

            if(obj==lastChild(obj) || obj==firstChild(obj) )
            {
                return;
            }else{
                obj.parentNode.insertBefore(newobj,obj)
            }
        }

        function insertBefore(obj,newobj){

            if(obj==lastChild(obj) || obj==firstChild(obj) )
            {
                return;
            }else{
                obj.parentNode.insertBefore(obj,newobj)
            }
        }

        function firstChild(obj) {
            var parent=obj.parentNode;
            return parent.children[0]
        }

        function lastChild(obj){
            var parent=obj.parentNode;
            var len=parent.children.length;
            return parent.children[len-1]
        }


    }
	</script>

</head>
<body>
<span>这是点击上移下移</span>
<ul id="ul" name="kk">
     <li>这是li1</li>
     <li>这是li2</li>
     <li>这是li3</li>
     <li>这是li4</li>
     <li>这是li5</li>
</ul>
</body>
</html>
