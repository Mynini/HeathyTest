<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style>
p { border:10px solid #ccc; background:#FFC; width:400px; padding:20px; font-size:16px; font-family:微软雅黑; margin:40px auto 0; }
</style>
	<script>
	window.onload=function(){
        
        var ul=document.getElementById("ul")
        var li=document.getElementsByTagName("li")
       
        for(var i=0;i<li.length;i++){
            li[i].index=i
            li[i].onclick=function(){
                if(this.index==0){
                    return;
                }else{
                    var s=nextSibling_(this,false).cloneNode(true)
                    var ele2=nextSibling_(this,true)
                    ul.replaceChild(this,ele2)
                    console.log(li[this.index])

                    // for(var j=0;i<li.length;j++){
                    //     this.index=j
                    // }
                    insertAfter(this,s)
                }
            }
        }

        function nextSibling_(obj,btn){
                elem=obj.nextSibling;
                if(elem.nodeType==3){
                    elem=elem.nextSibling
                }
                return elem;
            }else{
                elem=obj.previousSibling;
                if(elem.nodeType==3){
                    elem=elem.previousSibling
                }
                return elem;
            }            
        }
        function insertAfter(obj,newobj){
            if(obj.index==li.length-1){
                ul.appendChild(newobj)
            }else{
                console.log(nextSibling_(obj,true))
                ul.insertBefore(nextSibling_(obj,true),newobj)
            }
        }


    }
	</script>

</head>
<body>
<span>这是点击上移下移</span>
<ul id="ul" name="kk">
     <li>这是li1</li>
     <li>这是li2</li>
     <li>这是li3</li>
     <li>这是li4</li>
     <li>这是li5</li>
</ul>
</body>
</html>
